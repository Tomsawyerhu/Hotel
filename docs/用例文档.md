# 用例文档

## 文档修改历史

 | 修改人员              | 修改日期       | 修改原因     | 版本号       |
 | -------------------------------- | ----------------- | ----------------------------- | -------------- |
 | 陈思文，胡海川，廖兰宇，刘瑞麒 | 2020.3.10 | 最初草稿 | V1.0.0 |
 | 陈思文，胡海川，廖兰宇，刘瑞麒 | 2020.3.28 | 第二次文档作业，添加第一阶段剩余用例 | V1.0.1 |
 | 廖兰宇 | 2020.3.29 | 汇总文档，作业定稿 | V1.0.2 |
 | 廖兰宇 | 2020.5.11 | 调整前期用例，开始修改第三阶段用例文档 | V2.0.0 | 
 | 胡海川 | 2020.5.11 | 调整前期用例，开始修改第三阶段用例文档 | V2.0.1 |

## 目录

## 1. 引言

### 1.1目的

本文档描述了酒店预订系统的用户需求，包括客户、酒店工作人员、网站营销人员、网站管理人员，旨在通过本文档更好地明确当前阶段需求，推动开发工作的进一步进行。

### 1.2阅读说明

文档内用例的描述使用了《软件工程与计算（卷二） 软件开发的技术基础》附表一的模板，结合课程目前下发的阶段需求撰写完成。

本文档内说明约束如下：

1. 系统：指的是软件工程与计算Ⅱ课程中大作业要求设计的酒店预订系统
2. 用户：指本网站的线上访问者，分为已登录（下或称”已被识别或授权“）的客户和未登录的访客两种，用例说明在涉及到用户且对这两种用户未作区分的情况下，即认为两种用户均适用该用例情况
3. 管理员：指由系统所有方指派或雇佣的对系统后台有部分或全部操作权限的人员，激活管理员权限需要登录对应的管理员账户（下或称”已被识别或授权“）
4. 《软件工程与计算（卷二） 软件开发的技术基础》中已经定义的名称（如用例、顺序图、状态图）在本文档中完全沿用其定义
5. 未被上述词条定义的词汇均符合《现代汉语词典（第六版）》的定义

### 1.3参考文献

《软件工程与计算（卷二） 软件开发的技术基础》

## 2. 用例图

![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/%E9%85%92%E5%BA%97%E9%A2%84%E8%AE%A2%E7%94%A8%E4%BE%8B%E5%9B%BE.png)

## 3. 用例列表

  | 参与者 | 用例编号 | 用例 | 创建者 |
  | ------------------------------------------ | --- | ---------- | -------- |
  | 客户，酒店工作人员，网站营销人员，网站管理人员  | UC1 | 维护个人基本信息 | 廖兰宇 |
  | 客户 | UC2 | 客户浏览订单 | 廖兰宇 |
  | 客户 | UC3 | 查看已预订酒店 | 廖兰宇 |
  | 客户 | UC4 | 浏览酒店详细信息 | 廖兰宇 |
  | 客户 | UC5 | 搜索酒店 | 廖兰宇 |
  | 客户 | UC6 | 生成订单 | 刘瑞麒 |
  | 客户 | UC7 | 注册会员 | 刘瑞麒 |
  | 酒店工作人员 | UC8 | 维护酒店基本信息 | 刘瑞麒 |
  | 酒店工作人员 | UC9 | 录入可用客房 | 刘瑞麒 |
  | 酒店工作人员 | UC10 | 制定酒店促销策略 | 陈思文 |
  | 酒店工作人员 | UC11 | 更新入住和退房信息 | 陈思文 |
  | 酒店工作人员 | UC12 | 酒店工作人员浏览订单 | 陈思文 |
  | 酒店工作人员 | UC13 | 修改顶单状态 | 陈思文 |
  | 网站营销人员 | UC14 | 制定网站营销策略 | 陈思文 |
  | 网站营销人员 | UC15 | 处理异常订单 | 胡海川 |
  | 网站营销人员 | UC16 | 信用充值 |  胡海川 |
  | 网站管理人员 | UC17 | 用户管理 | 胡海川 |
  | 网站管理人员 | UC18 | 维护酒店信息 | 胡海川 |

## 4. 详细用例描述

### 4.1 维护个人基本信息

| ID       | UC1                                                          | 名称           | 维护个人基本信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 廖兰宇                                                       | 最后一次更新者 | 廖兰宇       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 用户,目标是修改自己的个人信息                               |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 用户已登录被授权                                          |                |              |
| 后置条件 | 系统存储更新后的个人信息                 |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1. 用户开始修改个人基本信息<br/> 2. 系统显示原有个人信息<br/> 3. 用户选择修改个人基本信息，包括账户名、密码、姓名、手机号或邮箱<br/> 4. 系统验证用户信息填写规范，询问用户是否确定修改<br/> 5. 用户确认修改<br/> 6.系统存储修改后的个人基本信息 |                |              |
| 扩展流程 |  4a.用户输入的密码与确认密码不一致 <br/>   1.系统提示"两次密码输入不一致"，要求用户重新输入<br/>  4b.用户输入的手机号码不合规范<br/> 1.系统提示"手机号不正确"，要求用户重新输入<br/> 4c.用户输入的邮箱不合规范<br/> 1.系统提示"邮箱输入不正确"，要求用户重新输入|                |              |
| 特殊需求 | 1. 密码填写时要求密文输入<br/>2. 用户的信誉积分不可以被用户修改 |  

### 4.2 客户浏览订单

| ID       | UC2                                                          | 名称           | 客户浏览订单 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 廖兰宇                                                       | 最后一次更新者 | 廖兰宇       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 客户，目标是浏览自己的所有订单                               |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 用户已登录被授权                                          |                |              |
| 后置条件 | 无                 |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1. 客户开始浏览订单<br/> 2. 系统返回并显示客户订单列表信息<br/> 3.用户查看订单列表<br/> 4. 客户选择查看某一订单详细信息<br/> 5.系统返回并显示该订单详细信息<br/> 6. 客户选择撤销某一订单<br/> 7.系统询问用户是否确定删除该订单<br/> 8.用户选择确定，系统验证并将订单设置为已撤销状态，同时扣除客户信用值；用户选择取消，系统返回订单列表 |                |              |
| 扩展流程 | 2a.客户没有订单记录 <br/>   1.系统显示“尚无订单记录”<br/> 3a.用户选择一个订单状态作为条件，来筛选订单列表<br/> 1.系统返回具有该状态的订单列表<br/> 2.回到正常流程3<br/> 8a.客户选择的订单是异常订单<br/> 1.系统提示“异常订单无法撤销”|                |              |
| 特殊需求 | 无 |  

### 4.3 查看已预定酒店

| ID       | UC3                                                          | 名称           | 查看已预定酒店 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 廖兰宇                                                       | 最后一次更新者 | 廖兰宇       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 客户，目标是查看自己已预定的酒店和订单信息                               |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 用户已登录被授权                                          |                |              |
| 后置条件 | 无                 |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1. 客户选择查看已预定酒店<br/> 2. 系统返回并显示客户已预定的酒店列表，列表显示酒店图片，名称，星级，评分<br/> 3.用户查看酒店详细信息<br/> 4. 系统返回并显示酒店详细信息<br/> 5.用户查看在该酒店的历史订单<br/> 6. 系统返回并显示订单信息，正常订单，异常订单，撤销订单要分别标记<br/> |                |              |
| 扩展流程 | 无|                |              |
| 特殊需求 | 1.酒店列表按照客户最后预定该的时间从最近到以往排序 |  

### 4.4 浏览酒店详细信息

| ID       | UC4                                                          | 名称           | 浏览酒店详细信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 廖兰宇                                                       | 最后一次更新者 | 廖兰宇       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 客户，目标是浏览某酒店详细信息                               |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 用户已登录被授权                                          |                |              |
| 后置条件 | 无                 |                |              |
| 优先级   | 中                                                           |                |              |
| 正常流程 | 1. 客户选择查看酒店详细信息<br/> 2. 系统返回并显示酒店详细信息，包括酒店图片，名称，星级，评分，简介，酒店详情，房间信息（包括房型，床型，是否有早餐，最大可入住人数，房价，剩余空房数），客户历史订单<br/> 3.客户结束查看<br/> 4. 系统退出 |                |              |
| 扩展流程 | 2a.客户选择查看历史订单<br/> 1.客户在该酒店没有历史订单，系统显示“暂无历史订单”<br/> 2.系统显示历史订单列表|                |              |
| 特殊需求 | 无 |  

### 4.5 搜索酒店

| ID       | UC5                                                          | 名称           | 搜索酒店 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 廖兰宇                                                       | 最后一次更新者 | 廖兰宇       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 客户，目标是搜索合适的酒店                              |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 用户已登录被授权                                          |                |              |
| 后置条件 | 无                 |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1. 客户选择希望预订的酒店的位置和商圈/入住时间<br/> 2. 系统返回并以列表显示符合条件的酒店信息，包括酒店图片，名称，星级，评分<br/> 3.用户查看酒店列表<br/> 4.客户选择查看酒店详细信息<br> 5.系统返回并显示酒店详细信息<br/> 6.客户完成搜索，选择退出<br> 7.系统退出                                       |                |              |
| 扩展流程 | 3a.客户可以选择按照 星级/价格/评分 对酒店列表排序，并可以设置升降序<br/> 1.系统返回并显示符合客户设置的排序方式的新列表<br/> 2.回到正常流程3<br/>  3b.用户可以更改设置的酒店的位置和商圈/入住时间<br/> 1.系统返回并显示符合新的条件的酒店列表<br/> 2.回到正常流程3|                |              |
| 特殊需求 | 用户曾经预订过并给出好评的酒店会被优先展示 | 


### 4.15 处理异常订单

| ID       | UC15                                                          | 名称           | 处理异常订单 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 胡海川                                                      | 最后一次更新者 | 胡海川       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 网站营销人员                              |                |              |
| 触发条件 | 无                                   |                |              |
| 前置条件 | 已完成网站营销人员身份认证                                          |                |              |
| 后置条件 | 系统保存信息修改                |                |              |
| 优先级   | 中                                                           |                |              |
| 正常流程 | 1.网站营销人员请求浏览异常订单，系统显示异常订单<br/> 2.网站营销人员撤销异常订单，系统将订单保存为已撤销状态<br/>                                        |                |              |
| 扩展流程 | 2a.网站营销人员恢复部分用户被扣除的信用分，系统保存用户信用分<br/>  |                |              |
| 特殊需求 | 1.撤销的订单并不会删除数据，只是置为已撤销状态，记录撤销时间<br/> 2.恢复信用值的全部还是一半，由营销人员自己决定<br/> | 
     

### 4.16 信用充值

| ID       | UC16                                                          | 名称           | 信用充值 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 胡海川                                                      | 最后一次更新者 | 胡海川       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 网站营销人员                              |                |              |
| 触发条件 | 用户进行信用充值                                  |                |              |
| 前置条件 | 已完成网站营销人员身份认证                                          |                |              |
| 后置条件 | 系统保存信息修改                |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1.网站营销人员查看充值记录，系统显示充值记录<br/>  2.网站营销人员为充值的用户增加信用值，系统保存修改<br/>                                        |                |              |
| 扩展流程 | 无<br/>  |                |              |
| 特殊需求 | 1.增加的信用值为（充值额度*100）<br/> |

 
### 4.17 用户管理

| ID       | UC16                                                          | 名称           | 用户管理 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 胡海川                                                      | 最后一次更新者 | 胡海川       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 网站管理人员                              |                |              |
| 触发条件 | 无                                  |                |              |
| 前置条件 | 已完成网站管理人员身份认证                                          |                |              |
| 后置条件 | 系统保存信息修改                |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1.网站管理人员查询用户信息，系统显示用户信息<br/>  2.网站管理人员更改用户信息，系统保存修改<br/>  3.网站管理人员查询酒店工作人员信息，系统显示酒店工作人员信息<br/>  4.网站管理人员更改酒店工作人员信息，系统保存修改<br/>  5.网站管理人员添加网站营销人员账户，系统保存信息<br/>  6.网站管理人员查询网站营销人员信息，系统显示网站营销人员信息<br/>  7.网站管理人员更改网站营销人员信息，系统保存修改<br/>                                    |                |              |
| 扩展流程 | 无<br/>  |                |              |
| 特殊需求 | 1.网站工作人员更改账户信息时须事先与当事人进行协商并获得许可<br/> |

     
### 4.18 酒店管理

| ID       | UC18                                                          | 名称           | 酒店管理 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 胡海川                                                      | 最后一次更新者 | 胡海川       |
| 创建日期 | 2020.5.11                                                   | 最后更新日期   | 2020.5.11    |
| 参与者   | 网站管理人员                              |                |              |
| 触发条件 | 无                                  |                |              |
| 前置条件 | 已完成网站管理人员身份认证                                          |                |              |
| 后置条件 | 系统保存信息修改                |                |              |
| 优先级   | 高                                                           |                |              |
| 正常流程 | 1.管理人员添加酒店，系统保存酒店名称<br/>  2.管理人员添加酒店工作人员，系统保存酒店工作人员信息<br/>  3.管理人员查看酒店工作人员信息，系统显示酒店工作人员信息<br/>  4.管理人员修改酒店工作人员信息，系统保存修改后的信息<br/>                                    |                |              |
| 扩展流程 | 2a.酒店已注册工作人员，系统拒绝添加新的酒店工作人员<br/>  |                |              |
| 特殊需求 | 1.需要先添加酒店（名称），才能为其添加工作人员<br/>  2.一个酒店只有一个工作人员账号<br/> | 



## 5. 需求分析模型

### 5.1 系统顺序图

#### UC15 处理异常订单
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E8%AE%A2%E5%8D%95%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)
#### UC16 信用充值
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E4%BF%A1%E7%94%A8%E5%85%85%E5%80%BC%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)
#### UC17 用户管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)
#### UC18 酒店管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)


### 5.2 概念类图

#### UC15 处理异常订单
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E8%AE%A2%E5%8D%95%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)
#### UC16 信用充值
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E4%BF%A1%E7%94%A8%E5%85%85%E5%80%BC%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)
#### UC17 用户管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)
#### UC18 酒店管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

### 5.3 状态图

#### UC15 处理异常订单
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E8%AE%A2%E5%8D%95%E7%8A%B6%E6%80%81%E5%9B%BE.png)
#### UC16 信用充值
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E4%BF%A1%E7%94%A8%E5%85%85%E5%80%BC%E7%8A%B6%E6%80%81%E5%9B%BE.png)
#### UC17 用户管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%8A%B6%E6%80%81%E5%9B%BE.png)
#### UC18 酒店管理
![](https://homework2020.oss-cn-hangzhou.aliyuncs.com/4th/%E9%85%92%E5%BA%97%E7%AE%A1%E7%90%86%E7%8A%B6%E6%80%81%E5%9B%BE.png)







